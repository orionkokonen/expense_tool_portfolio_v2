name: ci

#push(コミットを送った時)とpull_request(PRを出した時)に自動で動く
on:
  push:
  pull_request:

#Ubuntu 上で
#Python 3.10 / 3.11 / 3.12 / 3.13 の4バージョンでテストする
#やることは順に：
#リポジトリをチェックアウト（コードを取ってくる）
#指定Pythonをセット
#pip更新
#requirements-dev.txt をインストール
#ruff check .（静的チェック）
#mypy .（型チェック）
#pytest -q（テスト）
jobs:
  test:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        python-version: ["3.10", "3.11", "3.12", "3.13"]
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-python@v5
        with:
          python-version: ${{ matrix.python-version }}
      - run: python -m pip install --upgrade pip
      - run: pip install -r requirements-dev.txt
      - run: ruff check .
      - run: mypy .
      - run: pytest -q
